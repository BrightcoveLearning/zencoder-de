---
title: Verwenden von Zencoder mit Azure 
description: Zencoder kann Dateien (Blobs) von Ihren Azure-Containern hochladen und herunterladen. Die Konto-, Container- und Blobdetails müssen in die URL der Jobeingaben und -ausgaben eingebettet sein.
parent: General Information
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Working_with_Azure">Arbeiten mit Azure</h2>

<p>&nbsp;</p>

<p>Azure-URLs müssen das Format azure: // Kontoname: Kontoschlüssel @ Container / Blob verwenden. Die folgende Jobanforderung zeigt, wie auf Azure-Speicherorte für Ein- und Ausgaben verwiesen wird:</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
    "api_key": "93h630j1dsyshjef620qlkavnmzui3",
    "input": "azure://account-name:account-key@container/file-name.avi",
    "outputs": [
    {
        "url": "azure://account-name:account-key@container/output-file-name.mp4",
        "width": "1280",
        "height": "720"
    }
    ]
}</code></pre>

<p>Das <strong>Kontobezeichnung</strong> und <strong>Konto-Schlüssel</strong> sollte CGI entkommen sein. Es sollte nichts anderes als bei anderen URLs in Zencoder maskiert werden müssen. Sie finden sie in der Azure-Verwaltungsoberfläche. Der Kontoname ist der Name des Speicherkontos (verknüpft mit der Region usw.). Schlüssel sind am unteren Rand des Übersichtsbildschirms für das Konto verfügbar.</p>

<p>Jedes Azure-Konto kann mehrere Container haben. Das <strong>Container</strong> Das Feld in der URL muss in Azure definiert und konfiguriert werden, bevor es in einem Zencoder-Job verwendet werden kann.</p>

<p>Das <strong>Klecks</strong> Das Feld in der URL repräsentiert den Namen der Datei. Der Blob ist die einzige Komponente der URL, die in Azure nicht im Voraus konfiguriert werden muss.</p>
</section>

<section class="bcls-section">
  <h2 id="Azure_SAS_Token_Support">Azure SAS-Token-Unterstützung</h2>
  <p>Die Unterstützung für die Autorisierung von Azure-Dateiübertragungen ist in Zencoder enthalten. Derzeit werden nur Account SAS-Token unterstützt, und mindestens die Parameter "sv", "si", "sr" und "sig" sind als Teil des Tokens erforderlich.</p>

  <p>Beispiel für ein SAS-Token:</p>

<pre><code translate="No">sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D</code></pre>

<p>Es gibt zwei Möglichkeiten, das SAS-Token zusammen mit einer Azure-URL einzuschließen:</p>
<ul>
  <li>Hängen Sie das Token als Abfragezeichenfolgenparameter an die URL an.</li>
  <li>Stellen Sie das Token separat mit der Einstellung "azure_sas" bereit.</li>
</ul>
<aside class="bcls-aside bcls-aside--information">Hinweis: Die Azure-URL muss ein azure://-Schema verwenden, wie es in Zencoder standardmäßig ist, nicht https://.</aside>
<h3>API-Anforderungsbeispiele</h3>
<h4>Geben Sie URLs ein</h4>
<h5>Abfragezeichenfolgenversion</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{  "input": "azure://account-name@container/path/to/input.mp4?sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"}</code></pre>
<h5>Separate Parameterversion</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{  "input": "azure://account-name@container/path/to/input.mp4",  "azure_sas": "sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"}</code></pre>
<h4>Ausgabe-URLs</h4>
<aside class="bcls-aside bcls-aside--information">Hinweis: Bei Multidatei-Ausgaben (z. B. HLS-Ausgaben mit einem Manifest und Mediensegmenten) wird der Dateiname innerhalb der URL automatisch aktualisiert, um jede weitere Datei hochzuladen, der Pfad und die Parameter werden jedoch im Willotherwise beibehalten.</aside>
<h5>Abfragezeichenfolgenversion</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "url": "azure://account-name@container/path/to/output.mp4?sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
    }
  ]
}</code></pre>
<h5>Separate Parameterversion</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "url": "azure://account-name@container/path/to/output.mp4",  "azure_sas": "sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
    }
  ]
}</code></pre>
<h3>Miniaturansichten</h3>
<p>Bei Miniaturansichten enthält die Basis-URL normalerweise keinen Dateinamen. Wie bei Ausgabe-URLs wird diese so aktualisiert, dass Abfragezeichenfolgenparameter erhalten bleiben, die ein SAS-Token enthalten.</p>
<h4>Abfragezeichenfolgenversion</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "thumbnails": [
        {
          "label": "my-thumbs",
          "number": 10,
          "base_url": "azure://account-name@container/path/to/thumbs/?sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
        }
      ]
    }
  ]
}</code></pre>
<h4>Separate Parameterversion</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "thumbnails": [
        {
          "label": "my-thumbs",
          "number": 10,
          "base_url": "azure://account-name@container/path/to/thumbs/",
          "azure_sas": "sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
        }
      ]
    }
  ]
}</code></pre>
</section>
</article>