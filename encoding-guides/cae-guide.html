---
title: CAE-Leitfaden
description: 'Context Aware Encoding (CAE) analysiert jedes Quellvideo und erstellt auf intelligente Weise eine benutzerdefinierte Bitratenleiter (Satz von Wiedergaben) für jeden Inhalt. Darüber hinaus berücksichtigt Context Aware Encoding Einschränkungen, die mit dem Bereitstellungsnetzwerk und dem Gerät verbunden sind, mit denen der Inhalt angezeigt wird. Es entscheidet, wie viele Wiedergaben benötigt werden und welche Auflösungen und Bitraten für jede verwendet werden sollen, während über alle Titel hinweg ein gleichbleibendes Qualitätsniveau beibehalten wird. Dies führt zu massiven Einsparungen bei Speicher- und Bandbreitenkosten und verbessert gleichzeitig das Wiedergabeerlebnis für Benutzer. Weitere Informationen finden Sie in der <a href="/general-information/overview-context-aware-encoding.html">Übersicht über kontextbewusste Kodierung</a>.'
parent: Encoding Guides
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">Überblick</h2>

    <aside class="bcls-aside bcls-aside--information">Anmerkungen:
      <ul>
        <li>Die kontextbezogene Codierung steht nicht allen Zencoder-Kunden zur Verfügung. Wenn Sie Fragen dazu haben, ob Sie Context Aware Encoding verwenden können oder nicht, wenden Sie sich an Ihren Account Manager.</li>
        <!-- <li>The <a href="/encoding-guides/av1-guide.html">AV1 video codec</a> is currently not supported for CAE jobs.</li> -->
      </ul>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="process">Prozess</h2>

    <p>CAE wird für einen Zencoder-Job durch Festlegen aktiviert <code translate="No"><a href="/encoding-settings/general/encoding-settings-job.html#generate_dynamic_profile"><code translate="No">generate_dynamic_profile</code></a></code> zu wahr und hinzufügen <a href="/encoding-settings/general/encoding-settings-general-output-settings.html#dynamic_profile_rendition"><code translate="No">dynamic_profile_rendition</code></a> Werte zu den Ausgaben des Jobs. Außerdem können Sie hinzufügen <a href="/encoding-settings/general/cae-settings.html"><code translate="No">dynamic_profile_options</code></a>, dies ist jedoch nicht erforderlich. Nach dem Herunterladen und Überprüfen der Eingabequelldatei für den Job führt Zencoder den dynamischen CAE-Profilgenerator für die Quelldatei aus. Die resultierenden Einstellungen für die dynamische Profilleiter werden zu jeder entsprechenden Ausgabe hinzugefügt, bevor sie codiert werden. Die folgenden Einstellungen werden automatisch für Ausgaben mit einem Wert für dynamic_profile_rendition festgelegt:</p>

    <ul>
      <li><code translate="No">width</code></li>
      <li><code translate="No">height</code></li>
      <li><code translate="No">frame_rate</code></li>
      <li><code translate="No">video_codec</code></li>
      <li><code translate="No">video_codec_profile</code></li>
      <li><code translate="No">video_codec_tier</code></li>
      <li><code translate="No">video_codec_level</code></li>
      <li><code translate="No">video_reference_frames</code></li>
      <li><code translate="No">video_bframes</code></li>
      <li><code translate="No">video_bitrate</code></li>
      <li><code translate="No">decoder_bitrate_cap</code></li>
      <li><code translate="No">decoder_buffer_size</code></li>
      <li><code translate="No">keyframe_rate</code></li>
      <li><code translate="No">fixed_keyframe_interval</code></li>
    </ul>
    <p><strong>Gemischte Codec-Ausgänge:</strong> Sie können gemischte HEVC / H.264-Wiedergaben ausgeben. Sehen <a href="/encoding-settings/general/cae-settings.html">CAE-Einstellungen</a> für Details.</p>
    <p>Andere Ausgänge ohne a <a href="/encoding-settings/general/encoding-settings-general-output-settings.html#dynamic_profile_rendition"> <code translate="No">dynamic_profile_rendition</code></a> beginnt mit der Codierung, sobald die Eingabequelle überprüft wird, während gleichzeitig der dynamische Profilgenerator ausgeführt wird.</p>
  </section>
  <section class="bcls-section">
    <h2 id="guidelines_for_configuring_dynamic_profile_options">Richtlinien für die Konfiguration <a href="/encoding-settings/general/encoding-settings-general-output-settings.html#dynamic_profile_rendition"><code translate="No">dynamic_profile_options</code></a></h2>

    <h3>Anzahl der Wiedergaben</h3>

    <p>Die minimale und maximale Anzahl der zu erstellenden Wiedergaben wird mit dem gesteuert <a href="/encoding-settings/general/cae-settings.html#min_renditions">min_renditions</a> und <a href="/encoding-settings/general/cae-settings.html#max_renditions">max_renditions</a> die Einstellungen. Für eine optimale Leistung wird empfohlen, eine gewisse Lücke zwischen diesen Grenzwerten zu lassen (z. B. festgelegt) <code translate="No">min_renditions</code> bis 2 und <code translate="No">max_renditions</code> bis 10), wodurch der CAE-Profilgenerator die für jeden Inhalt am besten geeignete Nummer auswählen kann. Für einfach zu codierende Inhalte werden möglicherweise weniger Wiedergaben erzeugt, während für komplexere Inhalte möglicherweise mehr Wiedergaben erzeugt werden. Es wird außerdem empfohlen, min_renditions so klein wie möglich zu setzen, um Bandbreite zu sparen, wenn weitere Wiedergaben nicht erforderlich sind.</p>

    <h3>Beschlüsse</h3>

    <p>Standardmäßig verwendet CAE eine Leiter mit etwa 30 Standardauflösungen von <code translate="No">192x108</code> zu <code translate="No">7680x4320</code>. Es kann entweder am unteren oder am oberen Ende begrenzt werden, indem das verwendet wird <a href="/encoding-settings/general/cae-settings.html#min_resolution">min_resolution</a> und <a href="/encoding-settings/general/cae-settings.html#max_resolution">maximale Auflösung</a> die Einstellungen. Alternativ kann eine benutzerdefinierte Liste der Auflösungen und zugehörigen Codec-Einstellungen in der bereitgestellt werden <a href="/encoding-settings/general/cae-settings.html#video_configurations"><code translate="No">video_configurations</code></a> Rahmen.</p>

    <h3>GOP-Länge</h3>

    <p>Das <a href="/encoding-settings/general/cae-settings.html#keyframe_rate"><code translate="No">keyframe_rate</code></a> Einstellung steuert das Maximum <code translate="No">GOP</code> Länge des codierten Inhalts. Stellen Sie dies so ein, dass es mit übereinstimmt <a href="/encoding-settings/general-audio-video/encoding-settings-segmented-streaming.html#segment_seconds"><code translate="No">segment_seconds</code></a> für HLS / DASH-Codierung. Andernfalls wird ein Wert von 0,5 empfohlen, was einer 2-Sekunden-Zeit entspricht <code translate="No">GOP</code> Länge.</p>

    <h3>Bitrate-Abdeckung</h3>

    <p>Die Grenzen der zu verwendenden Bitraten können durch die gesteuert werden <a href="/encoding-settings/general/cae-settings.html#min_bitrate"><code translate="No">min_bitrate</code></a> und <a href="/encoding-settings/general/cae-settings.html#max_bitrate"><code translate="No">max_bitrate</code></a> die Einstellungen. Dadurch wird CAE angewiesen, mindestens zuzuweisen <a href="/encoding-settings/general/cae-settings.html#min_bitrate"><code translate="No">min_bitrate</code></a> Kbps für die erste Wiedergabe und beschränken die letzte Wiedergabe auf höchstens <a href="/encoding-settings/general/cae-settings.html#max_bitrate"><code translate="No">max_bitrate</code></a> Kbps.</p>

    <p>Verwenden Sie die Taste, um sicherzustellen, dass die Wiedergaberitraten angemessen verteilt sind <a href="/encoding-settings/general/cae-settings.html#min_granularity"><code translate="No">min_granularity</code></a> und <a href="/encoding-settings/general/cae-settings.html#max_granularity"><code translate="No">max_granularity</code></a> die Einstellungen. Diese können beispielsweise verwendet werden, um sicherzustellen, dass der Schritt von einer Bitrate zur nächsten nicht weniger als eine 50% ige Erhöhung der Bitrate oder mehr als eine 100% ige Erhöhung der Bitrate beträgt. Bitte beachten Sie, dass die meisten Streaming-Authoring-Richtlinien empfehlen, dass die Granularität 100% nicht überschreitet.</p>

    <h3>Startlatenz, Zuverlässigkeit bei schlechten Netzwerkbedingungen</h3>

    <p>Verwenden Sie die Taste, um sicherzustellen, dass die Bitratenleiter immer mit einer ausreichend niedrigen Bitrate beginnt <a href="/encoding-settings/general/cae-settings.html#max_first_rendition_bitrate"><code translate="No">max_first_rendition_bitrate</code></a> Rahmen. Je niedriger die Bitrate für die erste Wiedergabe eingestellt ist, desto weniger wahrscheinlich muss ein Videoplayer aufgrund niedriger Verbindungsgeschwindigkeiten puffern. Wenn das Streaming-Manifest angibt, dass zuerst die niedrigste Bitrate geladen werden soll, wirkt sich dies auch direkt auf die Startlatenz aus.</p>

    <h3>Unterstützung für ältere Geräte</h3>

    <p>Zur Unterstützung älterer Geräte, die nur dazu in der Lage sind <code translate="No"><code translate="No">Baseline</code></code> Profil H.264 Wiedergabe, verwenden Sie die <a href="/encoding-settings/general/cae-settings.html#select_baseline_profile_configuration"><code translate="No">select_baseline_profile_configuration</code></a> Rahmen. Wenn dies eingestellt ist, wird mindestens eine Wiedergabe mit codiert <code translate="No">Baseline</code> Profil. Zusätzliche Einschränkungen (Codec-Profil, Ebene, Anzahl der Referenzrahmen, B-Rahmen usw.) können benutzerdefiniert gesteuert werden <a href="/encoding-settings/general/cae-settings.html#video_configurations"><code translate="No">video_configurations</code></a> Rahmen.</p>
    <p>Beachten Sie, dass <code translate="No">select_baseline_profile_configuration</code> ist <code translate="No">true</code> standardmäßig, und es erfordert <em>mindestens eine Wiedergabe</em> um eine Auflösung von 512x288 oder weniger zu haben.</p>

    <h3>VBR-Variabilitätskontrolle</h3>

    <p>Die maximalen Spitzenbitraten können mit dem gesteuert werden <a href="/encoding-settings/general/cae-settings.html#bitrate_cap_to_bitrate_ratio"><code translate="No">bitrate_cap_to_bitrate_ratio</code></a> und <a href="/encoding-settings/general/cae-settings.html#bitrate_cap_offset">bitrate_cap_offset</a> die Einstellungen. Wenn eine Bitrate „<code translate="No">R</code>“ für eine Formatvariante ausgewählt ist, wird der <a href="/encoding-settings/general-audio-video/encoding-settings-rate-control.html#decoder_bitrate_cap">decoder_bitrate_cap</a> wie folgt berechnet:</p>

    <pre class="line-numbers">
  <code class="language-javascript" translate="No">decoder_bitrate_cap = R * bitrate_cap_to_bitrate_ratio + bitrate_cap_offset</code></code></pre>

    <p>In ähnlicher Weise können die Decoderpuffergrenzen mit dem gesteuert werden <a href="/encoding-settings/general/cae-settings.html#buffer_size_to_bitrate_ratio"><code translate="No">buffer_size_to_bitrate_ratio</code></a> und <a href="/encoding-settings/general/cae-settings.html#buffer_size_offset"><code translate="No">buffer_size_offset</code></a> die Einstellungen. Das <a href="/encoding-settings/general-audio-video/encoding-settings-rate-control.html#decoder_buffer_size"><code translate="No">decoder_buffer_size</code></a> wird berechnet als:</p>

    <pre class="line-numbers">
  <code class="language-javascript" translate="No">decoder_buffer_size = R * buffer_size_to_bitrate_ratio + buffer_size_offset</code></pre>

    <p>Beachten Sie, dass die Grenzwerte für Spitzenbitrate und Puffer möglicherweise auch durch das Codec-Profil und / oder die Pegeleinstellungen eingeschränkt werden. Einige allgemeine Probleme mit der Gerätekompatibilität können vermieden werden, indem Sie <a href="/encoding-settings/general/cae-settings.html#bitrate_cap_to_bitrate_ratio"><code translate="No">bitrate_cap_to_bitrate_ratio</code></a> auf 2.0 oder darunter beschränken, und <a href="/encoding-settings/general/cae-settings.html#buffer_size_to_bitrate_ratio"><code translate="No">buffer_size_to_bitrate_ratio</code></a> bis <code translate="No">2.0 * GOP length</code>(in Sekunden).</p>
  </section>
  <section class="bcls-section">
    <h2 id="CAE_and_Segmented_outputs">CAE und segmentierte Ausgänge</h2>

    <p>CAE ist mit segmentierten Ausgängen in Zencoder kompatibel. Auf der <code translate="No">Output</code> Wiedergabeeinstellungen, stellen Sie die <a href="/encoding-settings/general/encoding-settings-general-output-settings.html#type"><code translate="No">type</code></a> wie <code translate="No">segmented</code> und die entsprechenden <a href="/encoding-settings/general-audio-video/encoding-settings-segmented-streaming.html#segment_seconds"><code translate="No">segment_seconds</code></a> Wert. Ebenfalls, <a href="/encoding-settings/general/cae-settings.html#keyframe_rate"><code translate="No">keyframe_rate</code></a> und <a href="/encoding-settings/general-audio-video/encoding-settings-frame-rate.html#fixed_keyframe_interval"><code translate="No">fixed_keyframe_interval</code></a> Einstellungen müssen in vorgenommen werden <code translate="No">dynamic_profile_options</code>.</p>

    <h3>CAE - HLS Beispiel</h3>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
    "input": "s3://test_bucket/test_media.mp4",
    "generate_dynamic_profile": true,
    "dynamic_profile_options": {
      "max_renditions": 6,
      "min_renditions": 2,
      "select_baseline_profile_configuration": true,
      "keyframe_rate": "0.5",
      "fixed_keyframe_interval": "true"
    },
    "outputs": [
      {
        "label": "CAE1",
        "dynamic_profile_rendition": 1,
        "base_url": "s3://test_bucket/outputs/HLS_CAE/CAE1",
        "filename": "CAE1.m3u8",
        "type": "segmented",
        "segment_seconds": 2,
        "byte_range_segmenting": true,
        "generate_keyframe_manifest": "true",
        "hls_protocol_version": 7,
        "skip_audio": true
      },
      {
        "label": "CAE2",
        "dynamic_profile_rendition": 2,
        "base_url": "s3://test_bucket/outputs/HLS_CAE/CAE2",
        "filename": "CAE2.m3u8",
        "type": "segmented",
        "segment_seconds": 2,
        "byte_range_segmenting": true,
        "generate_keyframe_manifest": "true",
        "hls_protocol_version": 7,
        "skip_audio": true
      },
      {
        "label": "CAE3",
        "dynamic_profile_rendition": 3,
        "base_url": "s3://test_bucket/outputs/HLS_CAE/CAE3",
        "filename": "CAE3.m3u8",
        "type": "segmented",
        "segment_seconds": 2,
        "byte_range_segmenting": true,
        "generate_keyframe_manifest": "true",
        "hls_protocol_version": 7,
        "skip_audio": true
      },
      {
        "label": "CAE4",
        "dynamic_profile_rendition": 4,
        "base_url": "s3://test_bucket/outputs/HLS_CAE/CAE4",
        "filename": "CAE4.m3u8",
        "type": "segmented",
        "segment_seconds": 2,
        "byte_range_segmenting": true,
        "generate_keyframe_manifest": "true",
        "hls_protocol_version": 7,
        "skip_audio": true
      },
      {
        "label": "CAE5",
        "dynamic_profile_rendition": 5,
        "base_url": "s3://test_bucket/outputs/HLS_CAE/CAE5",
        "filename": "CAE5.m3u8",
          "type": "segmented",
          "segment_seconds": 2,
          "byte_range_segmenting": true,
          "generate_keyframe_manifest": "true",
          "hls_protocol_version": 7,
          "skip_audio": true
        },
        {
          "label": "CAE6",
          "dynamic_profile_rendition": 6,
          "base_url": "s3://test_bucket/outputs/HLS_CAE/CAE6",
          "filename": "CAE6.m3u8",
          "type": "segmented",
          "segment_seconds": 2,
          "byte_range_segmenting": true,
          "generate_keyframe_manifest": "true",
          "hls_protocol_version": 7,
          "skip_audio": true
        }
        {
          "label": "Audio",
          "audio_bitrate": "128",
          "type": "segmented",
          "segment_seconds": 2,
          "byte_range_segmenting": true,
          "skip_video": true,
          "base_url": "s3://test_bucket/outputs/HLS_CAE/Audio/128k/",
          "filename": "audio_128k.ac3"
        },
        {
          "base_url": "s3://test_bucket/outputs/HLS_CAE/",
          "filename": "master_playlist.m3u8",
          "hls_protocol_version": 7,
          "type": "playlist",
          "allow_skipped_sources": true,
          "alternate_audio": {
            "128k_audio": {
              "path": "Audio/128k/audio_128k.m3u8",
              "language": "en",
              "source": "Audio"
            }
          }
          ],
          "streams": [
            {
              "path": "CAE1/CAE1.m3u8",
              "source": "CAE1",
              "audio": "128k_audio"
            },
            {
              "path": "CAE2/CAE2.m3u8",
              "source": "CAE2",
              "audio": "128k_audio"
            },
            {
              "path": "CAE3/CAE3.m3u8",
              "source": "CAE3",
              "audio": "128k_audio"
            },
            {
              "path": "CAE4/CAE4.m3u8",
              "source": "CAE4",
              "audio": "128k_audio"
            },
            {
              "path": "CAE5/CAE5.m3u8",
              "source": "CAE5",
              "audio": "128k_audio"
            },
            {
              "path": "CAE6/CAE6.m3u8",
              "source": "CAE6",
              "audio": "128k_audio"
            }
          ]
        }
      ]
    }</code></pre>

    <h3>CAE - DASH Beispiel</h3>

    <pre class="line-numbers">
  <code class="language-json" translate="No">
  {
    "input": "s3://test_bucket/test.mov",
    "generate_dynamic_profile": true,
    "dynamic_profile_options": {
      "max_renditions": 6,
      "min_renditions": 2,
      "select_baseline_profile_configuration": true,
      "keyframe_rate": "0.5",
      "fixed_keyframe_interval": "true"
    },
    "outputs": [
      {
        "label": "CAE1",
        "dynamic_profile_rendition": 1,
        "base_url": "s3://test_bucket/outputs/DASH_CAE/CAE1",
        "filename": "CAE1.mpd",
        "type": "segmented",
        "segment_seconds": 10,
        "streaming_delivery_format": "dash",
        "skip_audio": true,
        "public": true
      },
      {
        "label": "CAE2",
        "dynamic_profile_rendition": 2,
        "base_url": "s3://test_bucket/outputs/DASH_CAE/CAE2",
        "filename": "CAE2.mpd",
        "type": "segmented",
        "segment_seconds": 10,
        "streaming_delivery_format": "dash",
        "skip_audio": true,
        "public": true
      },
      {
        "label": "CAE3",
        "dynamic_profile_rendition": 3,
        "base_url": "s3://test_bucket/outputs/DASH_CAE/CAE3",
        "filename": "CAE3.mpd",
        "type": "segmented",
        "segment_seconds": 10,
        "streaming_delivery_format": "dash",
        "skip_audio": true,
        "public": true
      },
      {
        "label": "CAE4",
        "dynamic_profile_rendition": 4,
        "base_url": "s3://test_bucket/outputs/DASH_CAE/CAE4",
        "filename": "CAE4.mpd",
        "type": "segmented",
        "segment_seconds": 10,
        "streaming_delivery_format": "dash",
        "skip_audio": true,
        "public": true
      },
      {
        "label": "CAE5",
        "dynamic_profile_rendition": 5,
        "base_url": "s3://test_bucket/outputs/DASH_CAE/CAE5",
        "filename": "CAE5.mpd",
        "type": "segmented",
        "segment_seconds": 10,
        "streaming_delivery_format": "dash",
        "skip_audio": true,
        "public": true
      },
      {
        "label": "CAE6",
        "dynamic_profile_rendition": 6,
        "base_url": "s3://test_bucket/outputs/DASH_CAE/CAE6",
        "filename": "CAE6.mpd",
        "type": "segmented",
        "segment_seconds": 10,
        "streaming_delivery_format": "dash",
        "skip_audio": true,
        "public": true
      },
      {
        "label": "Audio",
        "audio_bitrate": "128",
        "type": "segmented",
        "segment_seconds": 10,
        "streaming_delivery_format": "dash",
        "skip_video": true,
        "base_url": "s3://test_bucket/outputs/DASH_CAE/Audio/128k/",
        "filename": "audio_128k.mpd",
        "public": true
      },
      {
        "base_url": "s3://test_bucket/outputs/DASH_CAE/",
        "filename": "master_playlist.mpd",
        "streaming_delivery_format": "dash",
        "type": "playlist",
        "allow_skipped_sources": true,
        "public": true,
        "streams": [
          {
            "path": "CAE1/CAE1.mpd",
            "source": "CAE1"
          },
          {
            "path": "CAE2/CAE2.mpd",
            "source": "CAE2"
          },
          {
            "path": "CAE3/CAE3.mpd",
            "source": "CAE3"
          },
          {
            "path": "CAE4/CAE4.mpd",
            "source": "CAE4"
          },
          {
            "path": "CAE5/CAE5.mpd",
            "source": "CAE5"
          },
          {
            "path": "CAE6/CAE6.mpd",
            "source": "CAE6"
          },
          {
            "path": "Audio/128k/audio_128k.mpd",
            "source": "Audio"
          }
        ]
      }
    ]
   }
  </code></pre>
  </section>
</article>